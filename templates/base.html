<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="DeepSteg - Deep Learning Steganography Optimizer untuk menyembunyikan pesan rahasia dalam gambar dengan kualitas tinggi">
    <meta name="keywords" content="steganography, deep learning, GAN, image hiding, pesan rahasia, imperceptibility">
    <meta name="author" content="DeepSteg Team">
    
    <title>{% block title %}DeepSteg - Deep Learning Steganography Optimizer{% endblock %}</title>
    
    <!-- Favicon -->
    <link rel="icon" href="{{ url_for('static', filename='img/favicon.ico') }}" type="image/x-icon">
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Chart.js (for visualizations) -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
    
    {% block extra_head %}{% endblock %}
</head>
<body data-theme="light">
    <!-- Skip to content link for accessibility -->
    <a href="#main-content" class="skip-link visually-hidden-focusable">Skip to content</a>
    
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center" href="{{ url_for('index') }}">
                <i class="fas fa-shield-alt me-2"></i>
                <span>DeepSteg</span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link {% if request.path == '/' %}active{% endif %}" href="{{ url_for('index') }}">
                            <i class="fas fa-home me-1"></i>Beranda
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% if request.path == '/encode' %}active{% endif %}" href="{{ url_for('encode_page') }}">
                            <i class="fas fa-lock me-1"></i>Encoding
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% if request.path == '/decode' %}active{% endif %}" href="{{ url_for('decode_page') }}">
                            <i class="fas fa-unlock-alt me-1"></i>Decoding
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% if request.path == '/about' %}active{% endif %}" href="{{ url_for('about_page') }}">
                            <i class="fas fa-info-circle me-1"></i>Tentang
                        </a>
                    </li>
                </ul>
                
                <!-- Theme Switcher -->
                <div class="theme-switch d-flex align-items-center me-3">
                    <i class="fas fa-sun me-2 text-light" aria-hidden="true"></i>
                    <div class="form-check form-switch mb-0">
                        <input class="form-check-input" type="checkbox" id="themeSwitcher">
                        <label class="form-check-label visually-hidden" for="themeSwitcher">Dark Mode</label>
                    </div>
                    <i class="fas fa-moon ms-2 text-light" aria-hidden="true"></i>
                </div>
                
                <!-- Help button -->
                <div class="d-flex">
                    <button id="startTutorialBtn" class="btn btn-sm btn-outline-light me-2">
                        <i class="fas fa-question-circle me-1"></i>Tutorial
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Page header (if needed) -->
    {% block header %}{% endblock %}
    
    <!-- Main content -->
    <main id="main-content" class="py-4">
        {% block content %}{% endblock %}
    </main>
    
    <!-- Footer -->
    <footer class="py-4">
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <h5>DeepSteg</h5>
                    <p class="text-muted">
                        Optimizer steganografi berbasis deep learning untuk menyembunyikan pesan dalam gambar dengan kapasitas dan imperceptibility optimal.
                    </p>
                </div>
                <div class="col-md-4">
                    <h5>Tautan</h5>
                    <ul class="list-unstyled">
                        <li><a href="{{ url_for('index') }}">Beranda</a></li>
                        <li><a href="{{ url_for('encode_page') }}">Encoding</a></li>
                        <li><a href="{{ url_for('decode_page') }}">Decoding</a></li>
                        <li><a href="{{ url_for('about_page') }}">Tentang</a></li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h5>Kontak</h5>
                    <ul class="list-unstyled">
                        <li><i class="fas fa-envelope me-2"></i>contact@deepsteg.example.com</li>
                        <li><i class="fas fa-globe me-2"></i>www.deepsteg.example.com</li>
                        <li>
                            <a href="#" class="social-icon"><i class="fab fa-github"></i></a>
                            <a href="#" class="social-icon"><i class="fab fa-linkedin"></i></a>
                            <a href="#" class="social-icon"><i class="fab fa-twitter"></i></a>
                        </li>
                    </ul>
                </div>
            </div>
            <hr>
            <div class="row">
                <div class="col-md-6">
                    <p>&copy; 2025 DeepSteg. All rights reserved.</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <p>Version 1.0.0</p>
                </div>
            </div>
        </div>
    </footer>
    
    <!-- Tutorial Overlay -->
    <div id="tutorialOverlay" class="tutorial-overlay">
        <div class="tutorial-container">
            <div class="tutorial-header">
                <h3><i class="fas fa-graduation-cap me-2"></i>DeepSteg Tutorial</h3>
                <div>
                    <button id="skipTutorial" class="btn btn-sm btn-outline-secondary me-2">Skip</button>
                    <button id="closeTutorial" class="btn-close"></button>
                </div>
            </div>
            
            <div class="tutorial-progress">
                <div class="progress">
                    <div id="tutorialProgress" class="progress-bar" role="progressbar" style="width: 0%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="7"></div>
                </div>
                <small class="mt-1">Step <span id="currentStep">1</span> of <span id="totalSteps">7</span></small>
            </div>
            
            <div class="tutorial-content">
                <div class="tutorial-step active" id="step1">
                    <div class="step-number">1</div>
                    <h4>Selamat Datang di DeepSteg</h4>
                    <p>DeepSteg adalah aplikasi steganografi citra yang menggunakan pendekatan Deep Learning untuk menyembunyikan pesan rahasia dalam gambar dengan kualitas optimal.</p>
                    <img src="{{ url_for('static', filename='img/tutorial/welcome.png') }}" alt="Welcome" class="img-fluid mb-3">
                    <div class="d-grid">
                        <button class="btn btn-primary next-step" data-next="step2">Selanjutnya</button>
                    </div>
                </div>
                
                <div class="tutorial-step" id="step2">
                    <div class="step-number">2</div>
                    <h4>Cara Kerja Steganografi</h4>
                    <p>Steganografi bekerja dengan menyembunyikan pesan rahasia dalam file media (seperti gambar) tanpa perubahan yang terlihat. Deep learning meningkatkan kapasitas dan keamanan teknik ini.</p>
                    <img src="{{ url_for('static', filename='img/tutorial/how_it_works.png') }}" alt="How it works" class="img-fluid mb-3">
                    <div class="d-flex justify-content-between">
                        <button class="btn btn-outline-primary prev-step" data-prev="step1">Sebelumnya</button>
                        <button class="btn btn-primary next-step" data-next="step3">Selanjutnya</button>
                    </div>
                </div>
                
                <div class="tutorial-step" id="step3">
                    <div class="step-number">3</div>
                    <h4>Encoding Pesan</h4>
                    <p>Untuk menyembunyikan pesan, kunjungi halaman Encoding, upload gambar cover, masukkan pesan rahasia, dan klik tombol "Sembunyikan Pesan".</p>
                    <img src="{{ url_for('static', filename='img/tutorial/encoding.png') }}" alt="Encoding" class="img-fluid mb-3">
                    <div class="d-flex justify-content-between">
                        <button class="btn btn-outline-primary prev-step" data-prev="step2">Sebelumnya</button>
                        <button class="btn btn-primary next-step" data-next="step4">Selanjutnya</button>
                    </div>
                </div>
                
                <div class="tutorial-step" id="step4">
                    <div class="step-number">4</div>
                    <h4>Decoding Pesan</h4>
                    <p>Untuk mengekstrak pesan, kunjungi halaman Decoding, upload gambar stego, dan klik tombol "Ekstrak Pesan".</p>
                    <img src="{{ url_for('static', filename='img/tutorial/decoding.png') }}" alt="Decoding" class="img-fluid mb-3">
                    <div class="d-flex justify-content-between">
                        <button class="btn btn-outline-primary prev-step" data-prev="step3">Sebelumnya</button>
                        <button class="btn btn-primary next-step" data-next="step5">Selanjutnya</button>
                    </div>
                </div>
                
                <div class="tutorial-step" id="step5" data-highlight-target="encodingOptions">
                    <div class="step-number">5</div>
                    <h4>Fitur Keamanan</h4>
                    <p>DeepSteg menawarkan fitur keamanan tambahan seperti enkripsi password dan kompresi untuk meningkatkan kapasitas dan keamanan pesan.</p>
                    <img src="{{ url_for('static', filename='img/tutorial/security.png') }}" alt="Security Features" class="img-fluid mb-3">
                    <div class="d-flex justify-content-between">
                        <button class="btn btn-outline-primary prev-step" data-prev="step4">Sebelumnya</button>
                        <button class="btn btn-primary next-step" data-next="step6">Selanjutnya</button>
                    </div>
                </div>
                
                <div class="tutorial-step" id="step6">
                    <div class="step-number">6</div>
                    <h4>Metrik Kualitas</h4>
                    <p>Setelah encoding, DeepSteg menampilkan berbagai metrik kualitas seperti PSNR, SSIM, dan histogram similarity untuk mengevaluasi hasil steganografi.</p>
                    <img src="{{ url_for('static', filename='img/tutorial/metrics.png') }}" alt="Quality Metrics" class="img-fluid mb-3">
                    <div class="d-flex justify-content-between">
                        <button class="btn btn-outline-primary prev-step" data-prev="step5">Sebelumnya</button>
                        <button class="btn btn-primary next-step" data-next="step7">Selanjutnya</button>
                    </div>
                </div>
                
                <div class="tutorial-step" id="step7">
                    <div class="step-number">7</div>
                    <h4>Tips Penggunaan</h4>
                    <p>Untuk hasil terbaik, gunakan gambar dengan resolusi tinggi dan tekstur kompleks. Perhatikan kapasitas pesan dan gunakan enkripsi untuk keamanan ekstra.</p>
                    <img src="{{ url_for('static', filename='img/tutorial/tips.png') }}" alt="Usage Tips" class="img-fluid mb-3">
                    <div class="d-flex justify-content-between">
                        <button class="btn btn-outline-primary prev-step" data-prev="step6">Sebelumnya</button>
                        <button class="btn btn-primary" id="finishTutorial">Selesai</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Help content (hidden) -->
    <div id="helpContent" style="display: none;">
        <div id="encodingHelp">
            <h5>Panduan Encoding</h5>
            <p>Untuk menyembunyikan pesan dalam gambar:</p>
            <ol>
                <li>Upload gambar cover (JPG, PNG, atau BMP)</li>
                <li>Ketik pesan rahasia yang ingin disembunyikan</li>
                <li>Opsional: Aktifkan enkripsi dan atur password</li>
                <li>Opsional: Aktifkan kompresi untuk meningkatkan kapasitas</li>
                <li>Klik tombol "Sembunyikan Pesan"</li>
                <li>Download gambar hasil (stego image)</li>
            </ol>
            <p class="text-muted">Tips: Gunakan gambar dengan resolusi tinggi dan detail kompleks untuk kapasitas dan keamanan lebih baik.</p>
        </div>
        
        <div id="decodingHelp">
            <h5>Panduan Decoding</h5>
            <p>Untuk mengekstrak pesan dari gambar stego:</p>
            <ol>
                <li>Upload gambar stego</li>
                <li>Masukkan password (jika pesan terenkripsi)</li>
                <li>Klik tombol "Ekstrak Pesan"</li>
                <li>Salin pesan yang diekstrak</li>
            </ol>
            <p class="text-muted">Catatan: Pesan hanya dapat diekstrak dari gambar yang dibuat menggunakan DeepSteg.</p>
        </div>
        
        <div id="metricsHelp">
            <h5>Penjelasan Metrik Kualitas</h5>
            <dl>
                <dt>PSNR (Peak Signal-to-Noise Ratio)</dt>
                <dd>Mengukur rasio antara kekuatan sinyal maksimum dan noise. Nilai lebih tinggi menunjukkan kualitas lebih baik.</dd>
                
                <dt>SSIM (Structural Similarity Index)</dt>
                <dd>Mengukur kemiripan struktural antara gambar. Nilai mendekati 1.0 menunjukkan kemiripan tinggi.</dd>
                
                <dt>MSE (Mean Squared Error)</dt>
                <dd>Mengukur error rata-rata antar piksel. Nilai lebih kecil menunjukkan perubahan minimal.</dd>
                
                <dt>Histogram Similarity</dt>
                <dd>Mengukur kesamaan distribusi warna. Nilai mendekati 1.0 menunjukkan distribusi hampir identik.</dd>
            </dl>
        </div>
    </div>
    
    <!-- Notification container -->
    <div id="notification-container"></div>
    
    <!-- Bootstrap JS Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Custom JS -->
    <script src="{{ url_for('static', filename='js/enhanced-ui.js') }}"></script>
    <script src="{{ url_for('static', filename='js/enhanced-main.js') }}"></script>
    
    {% block scripts %}{% endblock %}
</body>
</html>